<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <div id="app" class="app"></div>
  <script type="module">
    // 原生的
    import {
      // h,
      // render,
      // createRenderer,
      // createVNode
    } from '/node_modules/@vue/runtime-dom/dist/runtime-dom.esm-browser.js';

    // 自己的
    import {
      renderOptions,
      createRenderer,
      render,
      h,
      createVNode
    } from './runtime-dom.js';

    // 三个入参
    // type props content
    // const vNode = h(
    //   'h1',
    //   {
    //     class: 'virtual-node',
    //     style: { color: '#bd4634' },
    //     onClick: () => alert('start you engine'),
    //     // 自己的还没兼容这种情况
    //     // onClick: [() => alert(1), () => alert(2)],
    //     attr: 'isYou',
    //   },
    //   // children为文本
    //   // 'kiva',
    //   // 'grip'
    //   // children为虚拟对象
    //   // createVNode('span', null, 'kiva'),
    //   // h('span', 'kiva'),
    //   // h('span', 'grip')
    //   // children为数组
    //   // [h('p', 'kiva'), h('p', 'grip')]
    //   // 还没实现， todo mountChildren方法
    //   ['kiva', 'grip']
    // );
    
    

    // 两种渲染方法
    // render(vNode, app);

    // const renderer = createRenderer(renderOptions);
    // renderer.render(vNode, app);



    
    // diff算法

    // 有 -> 空
    // const ele1 = h('h1', 'wizard');
    // render(ele1, app);
    // setTimeout(() => {
    //   render(null, app);
    // }, 1000)

    // 元素节点不相同
    // const ele1 = h('h1', 'Wizard');
    // const ele2 = h('div', {style: {
    //   color:'#bd4634',
    //   fontSize: '28px'
    // }}, 'Fire Dragon');
    // render(ele1, app);
    // setTimeout(() => {
    //   render(ele2, app);
    // }, 1000);

    // 元素节点相同，属性、children不相同
    // const ele1 = h('h1', 'Wizard');
    // const ele2 = h('h1', { style: { color:'#E91E63'} }, 'Wizard');
    // const ele3 = h('h1',
    //   { style: { color:'#bd4634'} }, 
    //   [h('span', { style: { marginRight: '5px' } }, 'Fire'), h('span', 'Dragon')]
    // );
    // const ele4 = h('h1',
    //   { style: { color:'rgb(176 199 234)'} }, 
    //   [h('span', { style: { marginRight: '5px' } }, 'Diamond'), h('span', 'Dragon')]
    // );
    // const ele5 = h('h1', { style: { color:'#bd4634'} }, null);
    // const ele6 = h('h1', null);
    // render(ele3, app);
    // setTimeout(() => {
    //   render(ele4, app);
    // }, 1000);

    // 元素节点、属性相同，children都是数组
    const ele1 = h('h1', [
      h('div', { key: 'a' }, 'a1'),
      h('div', { key: 'b' }, 'b1'),
      h('div', { key: 'c' }, 'c1'),
      h('div', { key: 'e' }, 'e1'),
      h('div', { key: 'f' }, 'f1'),
      h('div', { key: 'j' }, 'j1'),
      h('div', { key: 'd' }, 'd1'),
      h('div', { key: 'h' }, 'h1'),
    ]);
    const ele2 = h('h1', [
      h('div', { key: 'a' }, 'a2'),
      h('div', { key: 'b' }, 'b2'),
      h('div', { key: 'c' }, 'c2'),
      h('div', { key: 'd' }, 'd2'),
      h('div', { key: 'e' }, 'e2'),
      h('div', { key: 'f' }, 'f2'),
      h('div', { key: 'g' }, 'g2'),
      h('div', { key: 'k' }, 'k2'),
      h('div', { key: 'h' }, 'h2'),
    ]);
    render(ele1, app);
    setTimeout(() => {
      render(ele2, app);
    }, 1000);
  </script>
</body>
</html>